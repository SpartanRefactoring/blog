\begin{flushright}
  \scriptsize
\textsc{de gustibus non est disputandum†{%
    Latin maxim: in matters of taste, there can be no disputes
}}
\end{flushright}
\vspace{-1ex}

The Stackoverlow\urlref{http://stackoverlow.com} community, operating as a whole,
recommends against asking coding style and coding conventions related
questions. Tag \cc{code-styling} and its many synonyms: \cc{code-convention},
\cc{coding-guidelines} are specifically
earmarked\urlref{http://stackoverflow.com/tags/coding-style/info} as

{\scriptsize
\begin{tcolorbox}[colback=green!5!white,colframe=blue!25!white,notitle]
  \textsc{Do Not Use!}
This tag refers to an entirely opinionated subject and is therefore
no longer on-topic. Refactoring, braces, indentation, Hungarian notation, and
other stylistic issues relating to code.
\end{tcolorbox}}

A famous case in point is the \emph{‟religious braces wars”}, the endless
discussion of where and when should curly brackets (‟\cc❴”, ‟\cc❵”) placed.
Questions of this sort often transcend the simple relegation to a matter of an
individual programmer personal style and taste. In some language matters, they
could be relegated to the language designer(s) personal taste. In \Go curly
brackets are obligatory, while semicolons are not%
\urlref{https://golang.org/doc/faq＃semicolons}, while in \Java they braces are
required in \kk{synchronized}, \kk{try}, \kk{catch}, \kk{finally}, and
\kk{switch} but optional in other block structures with only one statement.
In fact, one of the designers of \Java's recently introduced~$λ$-expressions\urlref{%
http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html＃syntax}
even commented
\begin{quote}
  \footnotesize
\emph{‟Where we put the curly braces in code such as Listing~5 will likely
dominate \Java message boards and blogs for years to come”}\urlref{%
  http://www.oracle.com/technetwork/articles/java/architect-lambdas-part1-2080972.html
} (sic).
\end{quote}
on the topic of allowing both \mbox{\cc{()->3}} and \mbox{\cc{()->❴3❵}} in~$λ$-expressions.

Never ending debates of style are not limited to lilliputian matters such as
indentation and braces. Even the Dijksta's maxim ‟\emph{gotos are
evil}”~\cite{Dijkstra:68} was challenged in the scientific
literature~\cite{Knuth:74,Ramshaw:88,Bochmann:73,Sennesh:Gil:16,Zoethout:79,Wulf:79,Clark:84}.

Telling the story of ‟Spartan Programming”, one particular strict coding
guideline†{Since it was first described~\cite{TOOLS:98:Santa:Barbara}
  spartan programming has been used as the coding guideline in teaching
  Technion CS software courses and software projects, and collected some interest
  in the programming community~\cite{Coding:Horror:Spartan}}, \Java, this
  manuscript is also likely to be contentious. Perhaps even more so after
witnessing some spartanized code such as in \cref{figure:accumulate}, which
make look look bizarre to the unaccustomed eye, and very different from
traditional production \Java code.

\begin{figure}
\caption{\label{figure:accumulate}
  Some functions from interface \cc{accumulate},
  used for fluent API in the spartan library (abbreviated).
  }
    \centering
\begin{code}[minipage,width=\columnwidth]{JAVA}
/* £… £*/ addAll(Iterable<? extends T>... tss) {££
  for (Iterable<? extends T> ¢ : tss)
    addAll(¢);
  return this;
}
/* £… £*/ addAll(Iterable<? extends T> ts) {££
  if (ts = null)
    for (T t : ts)
      if (t != null)
        add(t);
  return this;
}
/* £… £*/ to(C c) {££
  return new accumulate<T, C>() {££
    /* £… £*/ elements() {££
        return c;
    }
    /* £… £*/ add(T ¢) {££
        if (¢ == null)
          return this;
        c.add(¢);
        return this;
    }
  };
}
\end{code}
\end{figure}

The code in the figure is drawn from a fluent API module\urlref{%
  https://github.com/SpartanRefactoring/spartan/blob/master/src/il/org/spartan/accumulate.java
} which makes it possible to write fluent snippets
such as \[
  \begin{multlined}
    \text{\cc{accumulate.to(myCollection).add(x).}}\\
    \text{\cc{.add(y).addAll(anotherCollection)}}.
  \end{multlined}
\]
For brevity, only methods' names, parameters and body are shown;
return type, generic parameters, modifiers and annotations are omitted.

Worthy of note in \cref{figure:accumulate} are the concise (some may say
cryptic) method bodies, the small number of parameters, and the short names of
variables and parameters. Other examples of, perhaps even stranger, spartan
code below demonstrate use of the ternary conditional operator, boolean
expressions, and more. All these are drawn from actual code serving in live
projects.

The tendency of style discussions to generate more heat than light, is perhaps
the reason that the topic is not frequented by scientists.\footnote{% A recent
  search for coding conventions on ``Scopus"', yielded almost no papers which
refer to the topic.} In fear of this controversiality this paper also tries to
avoid  superlatives \footnote{reviewers' comments on failures are doubly
  appreciated.} to the convention.\footnote{some qualitative discussion of this 
  sort may be found here~\cite{Gil:2010}.} Our main claims are: 
\begin{enumerate}
    \item spartan programming defines measurable ends, derived from 
      accepted principles, and aims at optimizing these
    \item there is an orderly process to optimize these ends, 
    \item as shown in the evaluation section, at least one fragment of this
      process achieves more regular code, where the term regularity is
      precisely defined.
\end{enumerate}

Another
% \item 
automatic spartanization, accompanied by the ``Jack'' tool,
        described below, may be applicable for normalizing for different
        style

Generally speaking, developers would certainly find easy to write code in their own style.
However, software development is carried out in a collaborative environment and developers
works together on the same files. Adjusting the code to others style require a certain effort
and it is time consuming. A common task performed during software development is code comparison.
Since part of the changes might be due to stylistic reasons, it is mandatory to distinguish the
semantically sensitive changes from the stylistic ones.
Also code analysis tools should adjust to different styles, since there are many
different ways for doing the same thing.
Code conventions might affect several metrics. The number of lines of code
(LOC) or the number of tokes (NOT) are influenced by coding styles (i.e.,
number of spaces, indentation, etc.). Code style might affect the project size
metrics, that has been proved to be different in different (‟Idiosyncratic
Projects
Hypothesis”)~\cite{Gil:Lalouche:16}~\cite{Gil:2011:Goldstein:Moshkovich:2011}
% In a recent one of the author demonstrated that size is the only thing that matters~\cite{Gil:Lalouche:16}.
% Moreover, the same notion of size has been shown to be very different in different projects~.

% Why should this be important?
% The following scenarios might be helpful to clarify this point.
% \begin{itemize}
% % \item Developers would certainly find easy to write code in their own style. However, software
% % development is carried out in a collaborative environment and developers works together on
% % the same files. Adjusting the code to others style require a certain effort and it is time consuming.
% % Waste of neurons.
% % \item A common task performed during software development is code comparison.
% % Since part of the changes might be due to stylistic reasons, it is mandatory to distinguish the
% % semantically sensitive changes from the stylistic ones.
% % Which part of my change is semantically and which
% % part of this my own personal style.
% % \item Also code analysis tools should adjust to different styles, since there are many
% % different ways for doing the same thing.
% % \item Code conventions might affect several metrics. The number of lines of code (LOC) or the number of
% % tokes (NOT) are influenced by coding styles. In a recent one of the author demonstrated that size
% % is the only thing that matters~\cite{Gil:Lalouche:16}.
% % Moreover, the same notion of size has been shown to be very different in different projects~\cite{Gil:Lalouche:16}.
% \end{itemize}

This manuscript present ‟Spartan Programming”, a programming methodology
whose main goal is to keep code simple and minimalistic in order to make it
mantainable and elegant.

It style based on many techniques, including some already reported in the literature and novel
ones and combines them in a systematic way to reduce simultaneously many
different measures of complexity. In other words, a Spartan programmer strive
to achieve an extreme minimalism and simplicity. Even if it can be seen as one
of the many code styles available, Spartan Programming differs from all of them
because of its unifying principle of minimalism and simplicity.

We are definitely far from having achieved the achieve the ‟holy grail” of
‟canonical representation of code”.
However we consider Spartan programming is a possible way to engage this endavour and
also a very little step towards is achievement.

% Does LOC mean anything? Not if you apply different indentation rules.
% This manuscript reports in

\subsection{Background}

The alleged \emph{nonchalance} shown by the scientific community towards the
investigation of a rationale approach to the problem of defining effective code
conventions, might be related to the fact that when it comes to code styling
most of the dialectic efforts are devoted to make each personal preferences
prevail against the others.

On the other hand, code conventions are considered a worthwhile issue during
the development process, otherwise we would not find style guides for principal
programming languages (\Java, \CC, etc.) and promoted by the major players in
the ITC arena worldwide, like
Oracle\urlref{http://www.oracle.com/technetwork/java/codeconvtoc-136057.html}
and Google\urlref{https://google.github.io/styleguide/javaguide.html}.

\textbf{But where these styles a matter of a careful and rational design
  process?
What were the underlying principles.}

Hindle et alii~\cite{Hindle:Bar:Su:Gabel:Devanbu:12} analyzed a large corpus of
Java software systems, using an approach based on Natural Language Processing (NLP).
They specifically used the n-gram model as a linguistic model to analyze source code
and then they compare the feature of the code corpus with those of corpus
written in natural language. They found meaningful differences, but the most interesting
one is that code affected by bugs differ more from natural language that the bug free.

Last paragraph: many people believe that style is irrelevant and unimportant.
We believe that it is.

\subsection{Spartan programming}

\begin{quote}
  ‟Let us change our traditional attitude to the construction of programs:
  Instead of imagining that our main task is to instruct a computer what to do,
  let us concentrate rather on explaining to human beings what we want a computer
  to do…”
  \begin{flushright}
   \upshape Donald E Knuth. ‟Literate Programming (1984)”
  \end{flushright}
\end{quote}

% The coding guidelines began with a dozen or so printed pages,
% "a little book of style", which the author handed out to computer science students
% in the Hebrew university of Jerusalem. The term "Spartan Programming" was coined in 1996,
% when the author gave a tutorial on "Spartan C++" at the TOOLS (Techniques of Object Oriented
% Languages and Systems) scientific conference, held in Santa Barbara, CA USA. The guidelines
% were taught under this name in numerous Technion courses since then.

% This manuscript present
‟Spartan Programming” is a programming methodology whose driving principles are
minimalism and simplicity. It combines several techniques,
some already reported in the literature, some other novel, that are applied
with the aim of reducing
% and combines them in a systematic
% way to reduce
simultaneously many different measures of complexity.
In other words, a ‟Spartan programmer” strive
to achieve an extreme minimalism and simplicity, by breaking
the code in simple modules.
It is worth to note that it is not a just code style - it is in fact a \emph{programming style}.
The code that emerges as a result of the application of the rules of the
Spartan Programming appears more elegant reminding, to a certain extent
functional more than imperative programming.

% Even if it can be seen as one of the many code styles available,
% Spartan Programming differs from all of them
% because of its unifying principle of minimalism and simplicity.

The definition of ‟Spartan Programming” first occurred in a tutorial taken at
the TOOLS (Techniques of Object Oriented Languages and Systems) scientific conference,
held in Santa Barbara, CA USA. % in in a stupid TOOLS USA 199X. tutorial.D
The aim was to present a rational approach to programming by examining all the previous
assumptions about how to code.

\emph{point of making and perfecting it was to "be rational" and
reexamine all assumptions.}

\emph{Rules have changed.
Utter despise of backward compatibility the need to rewrite the code.
Mention it.}

% The spartanization tool.

However, being in a certain sense, counter intuitive, in order to apply
Spartanization on their working routines, the developers need to respect a
firm discipline. From a certain standpoint, Spartan Programming might be
seen as a list of code style prescription, but it would just scratch the
surface. It is far more than that, since it.

Spartanization principles were implemented in a tool automatically apply code
transformation to \emph{spartanize} the code, namely transformation of codes
according to the spartan rules, has been developed.
This tools works for \Java code and it is implemented as a plugin for the
Eclipse\urlref{https://eclipse.org/} IDE\@. It is available through the Eclipse
marketplace\urlref{https://marketplace.eclipse.org/}

% Say that some of your alma mater gang love to do this kind of metrics, but
% no one really knows whether the results are applicable to different projects
% since~\cite{Turnu:Concas:Marchesi:Tonelli:11}

% The ‟Idiosyncratic Projects Hypothesis” I also had a plateau paper with
% Dany and Maayan about this. A number o years ago.~\cite{Gil:2011:Goldstein:Moshkovich:2011}

\subsection{Contribution}

The present manuscript makes the following contributions:

% \textbf{(the following text has been adapted by the wiki)}

This paper gives an overview of spartanization, future work will be
experiments.

Mention that wrings are optimistic, generally safe, but not bullet proof.

Spartan Programming style favour laconic expression over the verbose, leading
to a code that is (sometimes extremely) minimized. For this reason, spartanized
code might be less readable that the original. However, code readability is not
one of the main concern of Spartan Programming. All that said, to a certain
extent, spartan(ized) code might look a little bit ‟scary” to developers not
accustomed to it.

In the following, we are presenting some examples of Spartan
Programming %
All of them are taken from the source code of the Spartan Refactoring Plugin
for Eclipse that has been introduced in \cref{section:eclipse}. This code was
developed following the spartan programming rules since the beginning.
